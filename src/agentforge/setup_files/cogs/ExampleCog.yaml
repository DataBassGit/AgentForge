cog:
  name: "ExampleFlow"
  description: "A sample decision workflow."
  response_format: "auto"

  agents:
    - id: analyze
      template_file: AnalyzeAgent

    - id: decide
      template_file: DecideAgent

    - id: respond
      template_file: ResponseAgent
      response_format: "none"

  memory:
    - id: general_memory
      query_before: analyze
      update_after: respond
      query_keys: [external.user_input]
      update_keys: [external.user_input, internal.respond]

  flow:
    start: analyze
    transitions:
      analyze: decide
      decide:
        choice:
          "approve": respond
          "reject": analyze
        fallback: respond
        max_visits: 3
      respond:
        end: true 